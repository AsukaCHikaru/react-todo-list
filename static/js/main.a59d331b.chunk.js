(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,a){t.exports=a(36)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),r=a(13),i=a.n(r),o=(a(19),a(2)),c=a(3),u=a(5),l=a(4),d=a(6),p=(a(20),function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"renderRwdBtns",value:function(){var t=this;return this.props.width<=768?s.a.createElement("div",{className:"rwdBtn"},s.a.createElement("button",{className:0===this.props.selectedList?"pressed":"",onClick:function(){return t.props.updateSelectedList(0)}},"Done"),s.a.createElement("button",{className:1===this.props.selectedList?"pressed":"",onClick:function(){return t.props.updateSelectedList(1)}},"Todo"),s.a.createElement("button",{className:2===this.props.selectedList?"pressed":"",onClick:function(){return t.props.updateSelectedList(2)}},"Search")):null}},{key:"render",value:function(){return s.a.createElement("header",null,"Todo list",this.renderRwdBtns())}}]),e}(n.Component)),h=(a(21),a(22),function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"listName"},s.a.createElement("h3",null,this.props.name))}}]),e}(n.Component));h.defaultProps={name:"task name"};var m=a(11),k=(a(23),a(7)),f=(a(29),function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("input",{type:"text",placeholder:"Task name",className:"taskNameInput",value:this.props.value,onChange:this.props.updateNameInput,onKeyDown:function(e){13===e.keyCode&&t.props.submit()}})}}]),e}(n.Component)),v=(a(30),function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("input",{className:"taskTagInput",placeholder:'Add tags (use "," to separate)',value:this.props.value,onChange:this.props.updateTagInput,onKeyDown:function(e){13===e.keyCode&&t.props.submit()}})}}]),e}(n.Component));function E(t){return" "===RegExp(/./).exec(t)[0]?t.replace(/\s+(.+)/,"$1"):t}function w(t){var e=t.split(/,\s*/).filter(function(t){return""!==t}),a={},n=[];return 0!==e.length&&(e[0]=E(e[0])),e.forEach(function(t){a.hasOwnProperty(t)||(a[t]=!0,n.push(t))}),n}var g=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).updateNameInput=function(t){a.setState({nameInput:t.target.value})},a.updateTagInput=function(t){a.setState({tagInput:t.target.value})},a.submitEdit=function(){null!==RegExp(/\w+/).exec(a.state.nameInput)&&a.setState({showEdit:!1,showDetail:!0,nameInput:E(a.state.nameInput)},a.props.editTask(Object(m.a)({},a.props.task,{name:E(a.state.nameInput),tag:w(a.state.tagInput)})))},a.state={showEdit:!1,showDetail:!1,nameInput:a.props.task.name,tagInput:a.props.task.tag.join(", ")},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"renderName",value:function(){var t=this;return this.state.showEdit?s.a.createElement(f,{value:this.state.nameInput,updateNameInput:this.updateNameInput,defName:this.props.task.name,submit:this.submitEdit}):s.a.createElement("h5",{className:"done"===this.props.task.status?"name done":"name",onClick:function(){return t.setState(function(t){return{showDetail:!t.showDetail}})}},this.props.task.name)}},{key:"renderEditBtn",value:function(){var t=this;return"done"===this.props.task.status?s.a.createElement("span",null):s.a.createElement(k.a,{icon:"pencil-alt",className:"editBtn",onClick:function(){return t.setState(function(t){return{showEdit:!t.showEdit}})}})}},{key:"renderTag",value:function(){return this.state.showEdit?s.a.createElement("h6",null,"Tags:",s.a.createElement(v,{className:"tag",updateTagInput:this.updateTagInput,value:this.state.tagInput,defTag:this.props.task.tag.join(", "),submit:this.submitEdit})):s.a.createElement("h6",{className:"tag",style:{display:0!==this.props.task.tag.length?"block":"none"}},"Tags: ",this.props.task.tag.join(", "))}},{key:"renderSubmitEdit",value:function(){var t=this;return this.state.showEdit?s.a.createElement("div",{className:"submitEdit"},s.a.createElement("button",{onClick:function(){return t.submitEdit()}},"OK"),s.a.createElement("button",{onClick:function(){t.setState({showEdit:!1,nameInput:t.props.task.name,tagInput:t.props.task.tag.join(", ")})}},"CANCEL")):null}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"task"},s.a.createElement(k.a,{icon:"check",className:"done"===this.props.task.status?"checkBtn done":"checkBtn",onClick:function(){"todo"===t.props.task.status&&t.props.finishTask(Object(m.a)({},t.props.task,{status:"done"}))}}),this.renderName(),this.renderEditBtn(),s.a.createElement(k.a,{icon:"trash-alt",className:"delBtn",onClick:function(){t.props.delTask(t.props.task)}}),s.a.createElement("div",{className:"details",style:{display:this.state.showEdit||this.state.showDetail?"grid":"none"}},s.a.createElement("h6",{className:"time"},"Time: ",this.props.task.time),this.renderTag()),this.renderSubmitEdit())}}]),e}(n.Component);g.defaultProps={task:{name:"task name",tag:[]}};a(31);var b=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement(k.a,{className:"majorBtn ".concat(this.props.type),icon:"todo"===this.props.type?"plus-circle":"minus-circle",onClick:function(){return t.props.func()}}))}}]),e}(n.Component);a(32);function y(){var t=new Date,e=Math.ceil(1e3*Math.random()).toString();return t.getFullYear().toString()+t.getMonth().toString()+t.getDate().toString()+t.getHours().toString()+t.getMinutes().toString()+t.getSeconds().toString()+e}var S=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).clickAddBtn=function(){if(null!==RegExp(/\w+/).exec(a.state.nameInput)){var t={id:y(),name:E(a.state.nameInput),status:"todo",time:(new Date).toLocaleString(),tag:w(a.state.tagInput)};a.props.addTask(t),a.props.handleAddTaskFormDisplay("hide"),a.setState({nameInput:"",tagInput:"",showWarning:!1})}else a.setState({showWarning:!0})},a.updateNameInput=function(t){a.setState({nameInput:t.target.value})},a.updateTagInput=function(t){a.setState({tagInput:t.target.value})},a.state={nameInput:"",tagInput:"",showWarning:!1},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"addTaskForm",style:{display:this.props.show?"flex":"none"}},s.a.createElement("h2",null,"Add task"),s.a.createElement(f,{value:this.state.nameInput,updateNameInput:this.updateNameInput,submit:this.clickAddBtn}),s.a.createElement(v,{value:this.state.tagInput,updateTagInput:this.updateTagInput,submit:this.clickAddBtn}),s.a.createElement("p",{className:"warning",style:{display:this.state.showWarning?"inline":"none"}},"Task name is needed!"),s.a.createElement("div",null,s.a.createElement("button",{onClick:this.clickAddBtn},"ADD"),s.a.createElement("button",{onClick:function(){t.setState({showWarning:!1},t.props.handleAddTaskFormDisplay("hide"))}},"CANCEL")))}}]),e}(n.Component);S.defaultProps={show:!1};a(33);var T=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t="";switch(this.props.numOfResults){case 0:t='No result for "'.concat(this.props.keyword,'"');break;case 1:t='1 result for "'.concat(this.props.keyword,'"');break;default:t="".concat(this.props.numOfResults,' results for "').concat(this.props.keyword,'"')}return s.a.createElement("h3",{className:"searchSumm"},t)}}]),e}(n.Component),O=(a(34),function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).updateSearchInput=function(t){a.setState({searchInput:t.target.value})},a.state={searchInput:""},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"startSearch",value:function(){null!==RegExp(/\w+/).exec(this.state.searchInput)&&this.setState({searchInput:""},this.props.searchTask(E(this.state.searchInput)))}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"searchForm"},s.a.createElement("input",{type:"text",placeholder:"Enter name or tag",onChange:this.updateSearchInput,value:this.state.searchInput,onKeyDown:function(e){13===e.keyCode&&t.startSearch()}}),s.a.createElement(k.a,{icon:"search",onClick:function(){return t.startSearch()}}))}}]),e}(n.Component)),j=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).handleAddTaskFormDisplay=function(t){a.setState({showAddTaskForm:"show"===t})},a.state={showAddTaskForm:!1},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"renderSearchSumm",value:function(){return this.props.keyword?s.a.createElement(T,{keyword:this.props.keyword,numOfResults:this.props.tasks.length}):null}},{key:"renderTasks",value:function(){var t=this;return s.a.createElement("div",{className:"tasks"},this.props.tasks.map(function(e,a){return s.a.createElement(g,{key:a,task:e,editTask:t.props.handleTask.editTask,delTask:t.props.handleTask.delTask,finishTask:t.props.handleTask.finishTask})}))}},{key:"renderAddTaskForm",value:function(){return"Todo"===this.props.name?s.a.createElement(S,{show:this.state.showAddTaskForm,handleAddTaskFormDisplay:this.handleAddTaskFormDisplay,addTask:this.props.handleTask.addTask}):null}},{key:"renderSearchForm",value:function(){return"Search"===this.props.name?s.a.createElement(O,{searchTask:this.props.handleTask.searchTask}):null}},{key:"renderMajorBtn",value:function(){var t=this;return{Done:null,Todo:s.a.createElement(b,{type:"todo",func:function(){return t.handleAddTaskFormDisplay("show")}}),Search:s.a.createElement(b,{type:"search",func:this.props.handleTask.clearSearch})}[this.props.name]}},{key:"render",value:function(){return s.a.createElement("div",{className:"list ".concat(this.props.name.toLowerCase())},s.a.createElement(h,{name:this.props.name}),this.renderSearchSumm(),this.renderTasks(),this.renderAddTaskForm(),this.renderSearchForm(),this.renderMajorBtn())}}]),e}(n.Component);function I(t){return JSON.parse(JSON.stringify(t))}j.defaultProps={name:"list",tasks:[],handleTask:{}};var N={add:function(t,e){var a=I(t.list);return a[1].tasks.push(e),a},edit:function(t,e){var a=I(t.list);return a.forEach(function(t){t.tasks.forEach(function(a,n){a.id===e.id&&(t.tasks[n]=e)})}),a},del:function(t,e){var a=I(t.list);return a.forEach(function(t){t.tasks.forEach(function(a,n){a.id===e.id&&t.tasks.splice(n,1)})}),a},finish:function(t,e){var a=I(t.list),n=[a[1],a[2]],s=a[0];return n.forEach(function(t){t.tasks.forEach(function(a,n){a.id===e.id&&t.tasks.splice(n,1)})}),s.tasks.push(e),a},search:function(t,e){var a=I(t.list),n=[a[0],a[1]],s=[];return n.forEach(function(t){t.tasks.forEach(function(t){var a=t.name.includes(e);a||0===t.tag.length||t.tag.forEach(function(t){t.includes(e)&&(a=!0)}),a&&s.push(t)})}),a[2].tasks=s,a[2].keyword=e,a},clearSearch:function(t){var e=I(t.list);return e[2].tasks=[],e[2].keyword=null,e}};var C=function(){if(null!==localStorage.getItem("state")){var t=JSON.parse(localStorage.getItem("state"));return t.list=N.clearSearch(t),t.selectedList=1,t}return{userId:"localTempId"}};var D=function(t){localStorage.setItem("state",JSON.stringify(t))};a(35);var L=a(10),A=a(8);L.b.add(A.f,A.a,A.c,A.d,A.b,A.e);var B=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).updateAppWidth=function(){(function(t,e){var a=null,n=null;return[0,420,768,1200,9999].forEach(function(s,r){s>t.width&&null===a&&(a=r),s>e&&null===n&&(n=r)}),a!==n})(a.state,window.innerWidth)&&a.setState({width:window.innerWidth})},a.updateSelectedList=function(t){a.setState({selectedList:t})},a.state={userId:null,list:[{id:0,name:"Done",tasks:[]},{id:1,name:"Todo",tasks:[]},{id:2,name:"Search",tasks:[],keyword:null}],width:window.innerWidth,selectedList:1},a.isFirstRender=null===a.state.userId,a.handleTask={addTask:function(t){return a.setState({list:N.add(a.state,t)})},editTask:function(t){return a.setState({list:N.edit(a.state,t)})},delTask:function(t){return a.setState({list:N.del(a.state,t)})},finishTask:function(t){return a.setState({list:N.finish(a.state,t)})},searchTask:function(t){return a.setState({list:N.search(a.state,t)})},clearSearch:function(){return a.setState({list:N.clearSearch(a.state)})}},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentWillMount",value:function(){var t=this;this.isFirstRender&&this.setState(C(),function(){return D(t.state)})}},{key:"componentDidUpdate",value:function(){D(this.state)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateAppWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateAppWidth)}},{key:"renderLists",value:function(){var t,e=this;if(this.state.width>768)t=this.state.list.map(function(t){return s.a.createElement(j,{key:t.id,name:t.name,keyword:null===t.keyword||void 0===t.keyword?null:t.keyword,tasks:t.tasks,handleTask:e.handleTask})});else{var a=this.state.list[this.state.selectedList];t=s.a.createElement(j,{key:this.state.selectedList,name:a.name,keyword:null===this.state.list.keyword||void 0===a.keyword?null:a.keyword,tasks:a.tasks,handleTask:this.handleTask})}return s.a.createElement("div",{className:"listWraper"},t)}},{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement(p,{width:this.state.width,selectedList:this.state.selectedList,updateSelectedList:this.updateSelectedList}),this.renderLists())}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.a59d331b.chunk.js.map